
countNodes : rec t { node: < Leaf Unit | Tree { data: U32, left: t!, right: t! }# >}! -> U32;
countNodes n = 
  case n.node of
    Leaf u -> 0
    | n2 ->
      case n2 of
        Tree t ->
          t.data + countNodes t.left + countNodes t.right
      end
  end;